{% extends "MovieLens/base.html" %}

{% load static %}

{% block title %}MovieLens{% endblock %}

{% block indexli %}
<li><a href="{% url 'vcenter_index' %}">影片</a></li>
<li><a class="active" href="{% url 'MovieLens' %}">影片推薦</a></li>
<li><a href="{% url 'account_index' %}">個人設定</a></li>
<li><a href="{% url 'SingOut' %}">登出</a></li>
{% endblock %}

{% block content %}
<form method="post" id="userID" action="{% url 'MovieLens' %}">
  {% csrf_token %}
  <p>Choice a User (between 1 and 138493):</p>
  <input type="number" name="quantity" min="1" max="138493">
</form>
<div class="postuser">
  <button type="submit" form="userID" value="Submit">how about the user</button>
</div>
<div id="ChoiceImage">
  <p>Choice a movie you like:</p>
  {% for val in movie %}
  <p>{{ val.title }}</p>
  <img src="{% static 'MovieLens/movieimg/cover.jpg' %}" alt="Submit" onclick=ImgClick("{{ val.movieId }}")>
  <p>{{ val.genres }}</p>
  {% endfor %}
</div>
{% endblock %}

{% block TheEndJS %}
<script>
function UserClick(userID) {
    var rooturl = "{{ request.get_host }}user/";
    var url = rooturl.concat(movieID, "/");
    console.log(url);
    window.location.assign(url);
}
function ImgClick(movieID) {
    var rooturl = "{{ request.get_host }}movie/";
    var url = rooturl.concat(movieID, "/");
    console.log(url);
    window.location.assign(url);
}
</script>
{% endblock %}
