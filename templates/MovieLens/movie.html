{% extends "MovieLens/base.html" %}

{% load static %}

{% block title %}MovieLens{% endblock %}

{% block indexli %}
<li><a href="{% url 'vcenter_index' %}">影片</a></li>
<li><a class="active" href="{% url 'MovieLens' %}">影片推薦</a></li>
<li><a href="{% url 'account_index' %}">個人設定</a></li>
<li><a href="{% url 'SingOut' %}">登出</a></li>
{% endblock %}

{% block content %}
<p>{{ JSON }}</p>

<div id="ChoiceImage">
  <div>
    <img src="{% static 'MovieLens/movieimg' %}/{{ thismovie.movieId }}.jpg" onerror="this.src='{% static 'MovieLens/movieimg/cover.jpg' %}'" width="300px">
    <h3>{{ thismovie.title }}</h3>
    <p>{{ thismovie.genres }}</p>
  </div>
  <h2>也許你會喜歡這些影片，因為這些影片跟你選的影片類似</h2>
  {% for val in movie %}
  <div style="width: 280px;float: left;padding: 5px;margin: 5px;background-color: white;height: 560px;overflow: hidden;">
    <img src="{% static 'MovieLens/movieimg' %}/{{ val.movieId }}.jpg" onerror="this.src='{% static 'MovieLens/movieimg/cover.jpg' %}'" onclick=ImgClick("{{ val.movieId }}") width="280px">
    <h3>{{ val.title }}</h3>
    <p>{{ val.genres }}</p>
  </div>
  {% endfor %}
</div>
{% endblock %}

{% block TheEndJS %}
<script>
function ImgClick(movieID) {
    var rooturl = "{% url 'MovieLens' %}movie/";
    var url = rooturl.concat(movieID, "/");
    window.location.assign(url);
}
</script>
{% endblock %}
